<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Do It Yourself</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
    <style>
        body { font-family: Arial, sans-serif; background: #222; color: #fff; text-align: center; }
        .container { max-width: 600px; margin: 50px auto; background: #333; padding: 20px; border-radius: 10px; }
        h1 { color: #ffcc00; font-size: 28px; }
        .data { font-size: 22px; margin: 10px 0; padding: 10px; background: #444; border-radius: 5px; }
        button { background: #ffcc00; padding: 10px 15px; font-size: 16px; cursor: pointer; margin-top: 10px; }
        button:hover { background: #e6b800; }
        .hidden { display: none; }
        input { width: 90%; padding: 8px; margin: 5px 0; }
    </style>
</head>
<body>

    <div class="container">
        <h1>Do It Yourself</h1>
        <div class="data"><strong>üéØ Objectif du jour :</strong> <span id="objectifJour">10</span></div>
        <div class="data"><strong>üìÖ Objectif du mois :</strong> <span id="objectifMois">200</span></div>
        <div class="data"><strong>üìä Cl√¥tures aujourd'hui :</strong> <span id="clotureJour">5</span></div>
        <div class="data"><strong>‚ù§Ô∏è Combien j'aime ma femme :</strong> <span id="amourFemme">‚àû</span></div>
        
        <button onclick="toggleEdit()">Modifier</button>

        <div id="editForm" class="hidden">
            <h2>Modifier les valeurs</h2>
            <input type="number" id="newObjectifJour" placeholder="Objectif du jour">
            <input type="number" id="newObjectifMois" placeholder="Objectif du mois">
            <input type="number" id="newClotureJour" placeholder="Cl√¥tures aujourd'hui">
            <input type="text" id="newAmourFemme" placeholder="Amour">
            <button onclick="saveData()">Sauvegarder</button>
        </div>
    </div>

    <script>
        // üî• CONFIGURATION FIREBASE üî•
        const firebaseConfig = {
            apiKey: "AIzaSyD00-akAM_kY-DPb4BNrK-kaFH_J-QJiDc",
            authDomain: "verisure-bfdf8.firebaseapp.com",
            databaseURL: "https://verisure-bfdf8-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "verisure-bfdf8",
            storageBucket: "verisure-bfdf8.firebasestorage.app",
            messagingSenderId: "550925523531",
            appId: "1:550925523531:web:091351337bdebea46fcbce"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Charger les valeurs en temps r√©el üîÑ
        function loadData() {
            db.ref("data").on("value", (snapshot) => {
                let data = snapshot.val();
                document.getElementById("objectifJour").textContent = data.objectifJour;
                document.getElementById("objectifMois").textContent = data.objectifMois;
                document.getElementById("clotureJour").textContent = data.clotureJour;
                document.getElementById("amourFemme").textContent = data.amourFemme;
            });
        }

        // Afficher/Masquer formulaire
        function toggleEdit() {
            document.getElementById("editForm").classList.toggle("hidden");
        }

        // Sauvegarder les nouvelles valeurs üîÑ
        function saveData() {
            let newData = {
                objectifJour: document.getElementById("newObjectifJour").value || 10,
                objectifMois: document.getElementById("newObjectifMois").value || 200,
                clotureJour: document.getElementById("newClotureJour").value || 5,
                amourFemme: document.getElementById("newAmourFemme").value || "‚àû"
            };
            db.ref("data").set(newData);
            toggleEdit();
        }

        loadData();
    </script>

</body>
</html>
